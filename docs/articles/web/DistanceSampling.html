<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="MRSea">
<title>Distance Sampling â€¢ MRSea</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Distance Sampling">
<meta property="og:description" content="MRSea">
<meta name="google-site-verification" content="dUtyCOSNh9HYALyeXliAlT0ZBt-A4tor8kaiLgS3DRc">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-H10ZB5KXN8"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  
  gtag('config', 'G-H10ZB5KXN8');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">MRSea</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../../articles/web/IntroductiontoMRSea.html">Introduction to the package</a>
    <h6 class="dropdown-header" data-toc-skip>Basic examples</h6>
    <a class="dropdown-item" href="../../articles/GettingStarted_1Dsmoothing.html">One-dimensional smooths</a>
    <a class="dropdown-item" href="../../articles/GettingStarted_2Dsmoothing.html">Two-dimensional smooths</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../../articles/web/FittingDifferentSplines_MRSea.html">Using Different Splines</a>
    <a class="dropdown-item" href="../../articles/web/Interactions_salsa2d_MRSea.html">Interactions for 2D smooths</a>
    <a class="dropdown-item" href="../../articles/web/ModelDiagnostics_MRSea.html">Model Diagnostics</a>
    <a class="dropdown-item" href="../../articles/web/TheTweedieDistribution_MRSea.html">Using the Tweedie Distribution</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../../articles/web/Publications.html">Publications</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../../articles/web/DistanceSampling.html">Brief Intro to Distance Sampling</a>
    <a class="dropdown-item" href="../../articles/web/RenewablesCaseStudy_MRSea.html">Renewables Case Study</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>More advanced Usage</h6>
    <a class="dropdown-item" href="../../articles/web/Geodesic_2dsmoothing_MRSea.html">Geodesic smoothing</a>
    <a class="dropdown-item" href="../../articles/web/UserRadiiChoice_MRSea.html">Basis radii selection</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/lindesaysh/MRSea/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Distance Sampling</h1>
                        <h4 data-toc-skip class="author">Lindesay
Scott-Hayward</h4>
            
            <h4 data-toc-skip class="date">2023-08-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/lindesaysh/MRSea/blob/HEAD/vignettes/web/DistanceSampling.Rmd" class="external-link"><code>vignettes/web/DistanceSampling.Rmd</code></a></small>
      <div class="d-none name"><code>DistanceSampling.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="very-brief-introduction-to-distance-sampling-using-the-mrds-library">(Very) Brief Introduction to Distance Sampling using the
<code>mrds</code> library<a class="anchor" aria-label="anchor" href="#very-brief-introduction-to-distance-sampling-using-the-mrds-library"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Load data and fit detection function (Distance Sampling)</li>
</ol>
<p>This first step uses the <code>mrds</code> <code>R</code> package to
fit a detection function model. More information on using this package
can be found in its help files and also the <a href="http://distancesampling.org/" class="external-link">Distance Sampling web pages</a></p>
<p>Here we fit a simple half normal detection function with no
covariates and one with season as a covariate that may affect
detectability of the animals.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DistanceDevelopment/mrds/" class="external-link">mrds</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># we will use the dataset with a known re-distribution of animals</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">dis.data.re</span>, package <span class="op">=</span> <span class="st">"MRSea"</span><span class="op">)</span></span>
<span><span class="va">dis.data</span><span class="op">&lt;-</span><span class="va">dis.data.re</span></span></code></pre></div>
<p>For the <code>MRSea</code> functions that we will use to generate the
adjusted counts per segment it is best that the data for analysis are
already segmented and including all the zero segments. Each row is
either a zero segment (with object and distance set to <code>NA</code>)
or a detection with a segment label (there may be more than one
detection per segment). The columns in our data are as follows:</p>
<ul>
<li>
<code>transect.id</code> Identifier for the individual visits to the
transects</li>
<li>
<code>transect.label</code> Labels for transects</li>
<li>
<code>season</code> Numerical indicator for the four different
seasons</li>
<li>
<code>impact</code> Numerical indicator for before (0) and after (1)
impact</li>
<li>
<code>segment.id</code> Identifier for individual visits to the
segment -<code>segment.label</code> Label for segments</li>
<li>
<code>length</code> Length of segment in km</li>
<li>
<code>x.pos</code> spatial location in the horizontal axis in
UTMs</li>
<li>
<code>y.pos</code> spatial location in the vertical axis in
UTMs</li>
<li>
<code>depth</code> Depth in m</li>
<li>
<code>object</code> Id for detected object</li>
<li>
<code>distance</code> Perpendicular distance from the line</li>
</ul>
<p>Additional observation level covariates may be present such as glare,
sea state or observer</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dis.data</span><span class="op">)</span></span>
<span><span class="co">#&gt;   transect.id transect.label season impact segment.id segment.label length</span></span>
<span><span class="co">#&gt; 1           1              1      1      0          1           1-1  0.306</span></span>
<span><span class="co">#&gt; 2           1              1      1      0          2           1-2  0.500</span></span>
<span><span class="co">#&gt; 3           1              1      1      0          3           1-3  0.500</span></span>
<span><span class="co">#&gt; 4           1              1      1      0          4           1-4  0.500</span></span>
<span><span class="co">#&gt; 5           1              1      1      0          5           1-5  0.500</span></span>
<span><span class="co">#&gt; 6           1              1      1      0          6           1-6  0.500</span></span>
<span><span class="co">#&gt;    x.pos   y.pos   depth object distance</span></span>
<span><span class="co">#&gt; 1 656.25 6043.75 -27.359     NA       NA</span></span>
<span><span class="co">#&gt; 2 656.25 6044.25 -27.561     NA       NA</span></span>
<span><span class="co">#&gt; 3 656.25 6044.75 -28.608     NA       NA</span></span>
<span><span class="co">#&gt; 4 656.25 6045.25 -27.999     NA       NA</span></span>
<span><span class="co">#&gt; 5 656.25 6045.75 -27.519     NA       NA</span></span>
<span><span class="co">#&gt; 6 656.25 6046.25 -27.223     NA       NA</span></span></code></pre></div>
<p>The detection data has information in the object and distance columns
relating to the sightings.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">dis.data</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">distance</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">head</span></span>
<span><span class="co">#&gt;   transect.id transect.label season impact segment.id segment.label length</span></span>
<span><span class="co">#&gt; 1           1              1      1      0         24          1-24    0.5</span></span>
<span><span class="co">#&gt; 2           1              1      1      0         25          1-25    0.5</span></span>
<span><span class="co">#&gt; 3           3              3      1      0         55           3-3    0.5</span></span>
<span><span class="co">#&gt; 4           3              3      1      0         72          3-20    0.5</span></span>
<span><span class="co">#&gt; 5           3              3      1      0         75          3-23    0.5</span></span>
<span><span class="co">#&gt; 6           3              3      1      0         75          3-23    0.5</span></span>
<span><span class="co">#&gt;    x.pos   y.pos   depth object  distance</span></span>
<span><span class="co">#&gt; 1 656.25 6055.25  -5.245      1 119.62272</span></span>
<span><span class="co">#&gt; 2 656.25 6055.75  -4.069      2  49.11847</span></span>
<span><span class="co">#&gt; 3 659.75 6041.75 -27.232      3 186.47936</span></span>
<span><span class="co">#&gt; 4 659.75 6050.25  -8.381      4 172.99776</span></span>
<span><span class="co">#&gt; 5 659.75 6051.75  -7.756      5  61.88337</span></span>
<span><span class="co">#&gt; 6 659.75 6051.75  -7.756      6 139.96327</span></span></code></pre></div>
<p>Simple detection function model with no covariates</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mrds/man/ddf.html" class="external-link">ddf</a></span><span class="op">(</span>dsmodel<span class="op">=</span><span class="op">~</span><span class="fu">mcds</span><span class="op">(</span>key<span class="op">=</span><span class="st">"hn"</span>, formula<span class="op">=</span><span class="op">~</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>              data <span class="op">=</span> <span class="va">dis.data</span>, method<span class="op">=</span><span class="st">"ds"</span>, </span>
<span>              meta.data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>width<span class="op">=</span><span class="fl">250</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Summary for ds object</span></span>
<span><span class="co">#&gt; Number of observations :  2373 </span></span>
<span><span class="co">#&gt; Distance range         :  0  -  250 </span></span>
<span><span class="co">#&gt; AIC                    :  25446.68 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Detection function:</span></span>
<span><span class="co">#&gt;  Half-normal key function </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Detection function parameters </span></span>
<span><span class="co">#&gt; Scale coefficient(s): </span></span>
<span><span class="co">#&gt;             estimate         se</span></span>
<span><span class="co">#&gt; (Intercept) 4.754715 0.02068035</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                         Estimate           SE         CV</span></span>
<span><span class="co">#&gt; Average p              0.5639473  0.009624525 0.01706636</span></span>
<span><span class="co">#&gt; N in covered region 4207.8400478 91.709328911 0.02179487</span></span></code></pre></div>
<p>Detection function model with one covariate, season.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result.season</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mrds/man/ddf.html" class="external-link">ddf</a></span><span class="op">(</span>dsmodel<span class="op">=</span><span class="op">~</span><span class="fu">mcds</span><span class="op">(</span>key<span class="op">=</span><span class="st">"hn"</span>, formula<span class="op">=</span><span class="op">~</span><span class="va">season</span><span class="op">)</span>,</span>
<span>              data <span class="op">=</span> <span class="va">dis.data</span>, method<span class="op">=</span><span class="st">"ds"</span>, </span>
<span>              meta.data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>width<span class="op">=</span><span class="fl">250</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result.season</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Summary for ds object</span></span>
<span><span class="co">#&gt; Number of observations :  2373 </span></span>
<span><span class="co">#&gt; Distance range         :  0  -  250 </span></span>
<span><span class="co">#&gt; AIC                    :  25443.56 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Detection function:</span></span>
<span><span class="co">#&gt;  Half-normal key function </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Detection function parameters </span></span>
<span><span class="co">#&gt; Scale coefficient(s): </span></span>
<span><span class="co">#&gt;                estimate         se</span></span>
<span><span class="co">#&gt; (Intercept)  4.83166479 0.04092153</span></span>
<span><span class="co">#&gt; season      -0.03701706 0.01610680</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                         Estimate           SE         CV</span></span>
<span><span class="co">#&gt; Average p              0.5632936  0.009633876 0.01710276</span></span>
<span><span class="co">#&gt; N in covered region 4212.7235384 91.994822304 0.02183737</span></span></code></pre></div>
<ul>
<li>Visualising the detection functions by season</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result.season</span>, subset <span class="op">=</span> <span class="va">season</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result.season</span>, subset <span class="op">=</span> <span class="va">season</span><span class="op">==</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result.season</span>, subset <span class="op">=</span> <span class="va">season</span><span class="op">==</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result.season</span>, subset <span class="op">=</span> <span class="va">season</span><span class="op">==</span><span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p><img src="DistanceSampling_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">BIC</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 25452.45</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">BIC</a></span><span class="op">(</span><span class="va">result.season</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 25455.11</span></span></code></pre></div>
<ul>
<li>The BIC output shows that the simple no covariate detection function
model is preferred.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Adjust sightings for detectability</li>
</ol>
<p>First the adjusted counts for each detection are estimated using the
<code>create.NHAT</code> function from the <code>MRSea</code> package.
The adjustment is the number of observed individuals divided by their
probability of detection. Additionally, the <code>area</code> (in km)
column is also created using the segment length and truncation
distance.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://creem2.st-and.ac.uk/software.aspx" class="external-link">MRSea</a></span><span class="op">)</span></span>
<span><span class="va">dis.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/create.NHAT.html">create.NHAT</a></span><span class="op">(</span><span class="va">dis.data</span>,<span class="va">result</span><span class="op">)</span></span></code></pre></div>
<p>Then the <code>create.count.data</code> function is used to collapse
the data down into one row per segment. The estimated counts are summed
within each segment and the distance related variables removed
(distance, size, object).</p>
<p>If availability information is present, then these adjustments may
also be made here.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">count.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/create.count.data.html">create.count.data</a></span><span class="op">(</span><span class="va">dis.data</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "transect.id"</span></span>
<span><span class="co">#&gt; [1] "transect.label"</span></span>
<span><span class="co">#&gt; [1] "season"</span></span>
<span><span class="co">#&gt; [1] "impact"</span></span>
<span><span class="co">#&gt; [1] "segment.id"</span></span>
<span><span class="co">#&gt; [1] "segment.label"</span></span>
<span><span class="co">#&gt; [1] "length"</span></span>
<span><span class="co">#&gt; [1] "x.pos"</span></span>
<span><span class="co">#&gt; [1] "y.pos"</span></span>
<span><span class="co">#&gt; [1] "depth"</span></span>
<span><span class="co">#&gt; [1] "area"</span></span></code></pre></div>
<p>These count data are now ready for analysis using the main
<code>MRSea</code> functions. Specifically, spatially adaptive smoothing
in one and two dimensions.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Lindesay Scott-Hayward, Cameron Walker, Monique Mackenzie.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
